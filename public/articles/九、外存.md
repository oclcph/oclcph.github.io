---
title: 磁盘等
abstract: 计组第九章笔记
category: 计算机组成原理
---

# 九、外存

**特性**：不经常使用、数据量大、非易失的

## 硬磁盘存储器

由涂有*可磁化材料* 的*非磁性材料* 构成，软盘/硬盘

### 结构

每个盘片表面都有一个读写磁头，机械固定，同时移动![image-20241104213323262](C:\Users\ocl\AppData\Roaming\Typora\typora-user-images\image-20241104213323262.png)

**磁头：**可以产生/感应电磁场，正确读写。

> 数据密度越高，则磁头越窄，磁道越窄，出错风险越高

### 读写机制

![image-20241104213735370](C:\Users\ocl\AppData\Roaming\Typora\typora-user-images\image-20241104213735370.png)

读写操作期间，磁头静止不动，盘片旋转

> 早期读写公用一个磁头，目前使用不同磁头进行读写

**写入机制：**电脉冲发送到写入磁头，产生磁场，被记录在下面的盘片表面

**读取机制：**读取磁头由一个部分屏蔽的**磁阻敏感器**组成，电阻取决于介质的磁化方向。电流通过MR敏感器时通过电压信号检测电阻变化

### 数据组织

![image-20241104214127343](C:\Users\ocl\AppData\Roaming\Typora\typora-user-images\image-20241104214127343.png)

**磁道：**盘片上的各个同心圆

**扇区：**数据以**扇区**形式传输到磁盘/传出磁盘

**间隙：**相邻磁道、扇区之间的空隙

**扇区划分：**

1. 恒定角速度，可以通过磁道号和扇区号直接寻址，但会受到最内层磁道记录密度的限制
2. 多带式记录/多重区域记录：每个磁道单独划分扇区，提升存储容量，但更复杂

**柱面：**所有盘片处于相同相对位置的一组磁道

### 格式化

使用一些仅被磁盘驱动器使用的额外数据，用户不可见

辨别每个扇区起点、终点

### ==I/O访问时间==

**寻道时间：**磁头定位到所需移动到的磁道花费的时间

**旋转延迟：**等待相应扇区的起始处到达磁头所需时间

**传送时间：**数据传输时间

$$
T=\frac{b}{rN}
$$

> T: 传送时间，b: 传送的字节数，N: 每磁道的字节数，r: 旋转速率（单位：转/秒）

**==平均访问时间==：**

$$
T_a=T_s+\frac{1}{2r}+\frac{b}{rN}
$$

> $T_s$：寻道时间，$\frac{1}{2r}$：旋转延迟，通常是磁道旋转半周所需时间

> 当连续访问多个相邻磁道时，跨越磁道需要单独考虑旋转延迟，但通常只考虑第一个磁道的寻道时间（明确知道跨越每个磁道所需时间除外）

### ==磁头寻道/磁盘调度==

1. 先来先服务（FCFS）：按照请求访问磁盘的先后次序处理
2. 最短寻道时间优先（SSTF）：优先处理起始位置与当前磁头位置最接近的读写任务

> 可能**饥饿**，即长时间无法处理读写任务

3. 扫描/电梯（SCAN）：总按照一个方向进行调度直到方向边缘，然后改变方向
4. 循环扫面（C-SCAN）：只有磁头朝某个方向移动时才响应请求，移动到边缘后立即返回起点，返回途中不做任何处理

> 比SCAN慢，但各位置磁道的响应频率平均

5. LOOK/C-LOOK：只要磁头移动方向上不再有请求就改变移动方向

## 光存储器

> CD, CD-ROM, CD-R, CD-RW, DVD, DVD-R, DVD-RW...

### CD和CD-ROM

1. 读取：光盘播放器/驱动装置内的低强度激光束照射光盘
   1. 若在凹坑上，则光被散射，反射回低强度激光
   2. 若照在台上，反射回高强度激光
   3. 包含单螺旋轨道，盘片变速旋转，凹坑以恒定线速度读出
2. 可大规模复制，可更换，只读不可修改，存取时间远长于磁盘

### CD-R和CD-RW

### DVD（数字多功能光盘）

相比于CD，DVD位组装更紧密，采用双层结构，容量更大

## 磁带

与磁盘类似

## 快闪存储器

1. 电可擦除
2. 擦除时间为几秒
3. 可在块级擦除，不能字节级擦除
4. 达到与EPROM相同密度

### U盘、固态硬盘
