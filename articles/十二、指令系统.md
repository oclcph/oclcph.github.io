---
title: 指令系统
abstract: 计组第十二章笔记
category: 计算机组成原理
---

# 指令系统

**指令的要素**：操作码、源操作数、结果操作数、下一条指令引用

## 操作码

**数据传送：**指明源和目标操作数位置，传送长度和寻址方式

> store, load(mem to reg), move(src to dest)...

**算术运算：**

> add, sub, mul ...

**逻辑运算：**位操作，移位、旋转

> and, or, not, shift

**输入/输出：**

> input, output

**控制转移：**分支指令，跳步指令，调用指令

> jump, return, skip(pc+1，跳步指令)...

![image-20241126215336537](C:\Users\ocl\AppData\Roaming\Typora\typora-user-images\image-20241126215336537.png)

## 操作数

**地址：**指令串中的*下一指令地址*是隐含的，为pc+<当前指令的长度>

> 每条指令中地址数目越少，cpu越好处理，但总指令数更多，程序更复杂

**数值：**

**字符：**ascii, ebcdic, unicode
**逻辑数据：**把n位单元看成由n个1位项组成，每项有值0/1，有利于对具体的位进行操纵

## 寻址方式

下文中$A$表示指令中地址字段的内容，$R$指向寄存器的指令地址字段内容，$EA$是被访问位置的实际（有效）地址，$(X)$是存储器位置X或寄存器X的内容

| 寻址方式       | 解释                                                                                                      |
| -------------- | --------------------------------------------------------------------------------------------------------- |
| 立即寻址       | 操作数直接出现在指令中，立即数                                                                            |
| 直接寻址       | $EA=A$，地址字段含有操作数的有效地址。根据给出的地址字段可以直接去存储器的相应位置取出数据                |
| 间接寻址       | $EA=(A)$，根据给出的地址字段指示一个存储器的字地址，这个地址中保存有操作数的全长度地址，需要访问2次存储器 |
| 寄存器寻址     | $EA=R$，地址字段直接指示一个寄存器，取出寄存器中的数据                                                    |
| 寄存器间接寻址 | $EA=(R)$，地址字段指示一个寄存器，寄存器中存储的是一个地址，可以根据此地址去存储器中取出数据              |

### 偏移寻址

$EA=(R)+A$，结合直接寻址和寄存器间接寻址

| 偏移寻址方式   | 解释                                                                                                   |
| -------------- | ------------------------------------------------------------------------------------------------------ |
| 相对寻址       | $EA=(PC)+A$，当前指令的下一条指令的地址加上地址字段的值产生有效地址                                    |
| 基址寄存器寻址 | $EA=(B)+A$，被引用的寄存器含有一个存储器地址，地址字段含有一个相对于该地址的偏移量（通常是无符号整数） |
| 变址寻址       | $EA=A+(R)$，指令地址字段引用一个主存地址，被引用的寄存器含有相对于该地址的一个偏移量                   |

### 栈寻址

栈指针保存在寄存器中，对寄存器中栈位置的访问实际上是一种寄存器间接寻址方式

![image-20241126222013644](C:\Users\ocl\AppData\Roaming\Typora\typora-user-images\image-20241126222013644.png)

## 指令格式

**指令长度**是字节整数倍（好存取），是数据总线宽度（好传输）

操作码数目多+地址范围大

**变长的操作码：**确定一个最小操作码长度，对于某些操作码可以使用指令附加位的方法指定附加操作

**变长指令：**可以提供不同长度的各种指令格式
